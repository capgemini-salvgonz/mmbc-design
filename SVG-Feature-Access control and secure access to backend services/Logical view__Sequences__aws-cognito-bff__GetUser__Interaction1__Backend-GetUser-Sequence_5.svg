<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="1242.86083984375" height="566"><defs/><g><g transform="translate(-46,-30) scale(1,1)"><rect fill="#C0C0C0" stroke="none" x="63" y="47" width="79.11181640625" height="39" opacity="0.2"/></g><g transform="translate(-46,-30) scale(1,1)"><rect fill="#ffffff" stroke="none" x="56" y="40" width="79.11181640625" height="39"/></g><g transform="translate(-46,-30) scale(1,1)"><path fill="none" stroke="#000000" d="M 56 40 L 135.11181640625 40 L 135.11181640625 79 L 56 79 L 56 40 Z Z" stroke-miterlimit="10"/></g><g transform="translate(-46,-30) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="bold" text-decoration="none" x="78.937744140625" y="59.5">Client</text></g></g><g transform="translate(-46,-30) scale(1,1)"><path fill="none" stroke="#000000" d="M 96.5 80 L 96.5 586" stroke-miterlimit="10" stroke-dasharray="3"/></g><g transform="translate(-46,-30) scale(1,1)"><rect fill="#C0C0C0" stroke="none" x="295" y="47" width="128" height="39" opacity="0.2"/></g><g transform="translate(-46,-30) scale(1,1)"><rect fill="#ffffff" stroke="none" x="288" y="40" width="128" height="39"/></g><g transform="translate(-46,-30) scale(1,1)"><path fill="none" stroke="#000000" d="M 288 40 L 416 40 L 416 79 L 288 79 L 288 40 Z Z" stroke-miterlimit="10"/></g><g transform="translate(-46,-30) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="303.227783203125" y="57.5">«RestController»</text></g></g><g transform="translate(-46,-30) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="bold" text-decoration="none" x="310.09912109375" y="72.5">UserController</text></g></g><g transform="translate(-46,-30) scale(1,1)"><path fill="none" stroke="#000000" d="M 353.5 80 L 353.5 586" stroke-miterlimit="10" stroke-dasharray="3"/></g><g transform="translate(-46,-30) scale(1,1)"><rect fill="#C0C0C0" stroke="none" x="887" y="47" width="141.08447265625" height="39" opacity="0.2"/></g><g transform="translate(-46,-30) scale(1,1)"><rect fill="#ffffff" stroke="none" x="880" y="40" width="141.08447265625" height="39"/></g><g transform="translate(-46,-30) scale(1,1)"><path fill="none" stroke="#000000" d="M 880 40 L 1021.08447265625 40 L 1021.08447265625 79 L 880 79 L 880 40 Z Z" stroke-miterlimit="10"/></g><g transform="translate(-46,-30) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="bold" text-decoration="none" x="894.1845703125" y="59.5">AwsCognitoService</text></g></g><g transform="translate(-46,-30) scale(1,1)"><path fill="none" stroke="#000000" d="M 951.5 80 L 951.5 584" stroke-miterlimit="10" stroke-dasharray="3"/></g><g transform="translate(-46,-30) scale(1,1)"><rect fill="#C0C0C0" stroke="none" x="631" y="47" width="102.08447265625" height="39" opacity="0.2"/></g><g transform="translate(-46,-30) scale(1,1)"><rect fill="#ffffff" stroke="none" x="624" y="40" width="102.08447265625" height="39"/></g><g transform="translate(-46,-30) scale(1,1)"><path fill="none" stroke="#000000" d="M 624 40 L 726.08447265625 40 L 726.08447265625 79 L 624 79 L 624 40 Z Z" stroke-miterlimit="10"/></g><g transform="translate(-46,-30) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="bold" text-decoration="none" x="637.1181640625" y="59.5">FilterSecurity</text></g></g><g transform="translate(-46,-30) scale(1,1)"><path fill="none" stroke="#000000" d="M 676.5 80 L 676.5 584" stroke-miterlimit="10" stroke-dasharray="3"/></g><g transform="translate(-46,-30) scale(1,1)"><rect fill="#C0C0C0" stroke="none" x="1087" y="47" width="198.86083984375" height="39" opacity="0.2"/></g><g transform="translate(-46,-30) scale(1,1)"><rect fill="#ffffff" stroke="none" x="1080" y="40" width="198.86083984375" height="39"/></g><g transform="translate(-46,-30) scale(1,1)"><path fill="none" stroke="#000000" d="M 1080 40 L 1278.86083984375 40 L 1278.86083984375 79 L 1080 79 L 1080 40 Z Z" stroke-miterlimit="10"/></g><g transform="translate(-46,-30) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="bold" text-decoration="none" x="1095.977783203125" y="59.5">AwsCognitoRSAKeyProvider</text></g></g><g transform="translate(-46,-30) scale(1,1)"><path fill="none" stroke="#000000" d="M 1180.5 80 L 1180.5 576" stroke-miterlimit="10" stroke-dasharray="3"/></g><g transform="translate(-46,-30) scale(1,1)"><path fill="#ffffff" stroke="none" d="M 424 144 L 541 144 L 551 154 L 551 180 L 424 180 L 424 144"/></g><g transform="translate(-46,-30) scale(1,1)"><path fill="none" stroke="#000000" d="M 424 144 L 541 144 L 551 154 L 551 180 L 424 180 L 424 144 L 424 144" stroke-miterlimit="10"/></g><g transform="translate(-46,-30) scale(1,1)"><path fill="none" stroke="#000000" d="M 541 144 L 541 154 L 551 154 L 541 144" stroke-miterlimit="10"/></g><g transform="translate(-46,-30) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="429" y="162">Security interceptor</text></g></g><g transform="translate(-46,-30) scale(1,1)"><path fill="none" stroke="#000000" d="M 96 106 L 346 106" stroke-miterlimit="10"/></g><g transform="translate(-46,-30) scale(1,1)"><path fill="#000000" stroke="none" d="M 335.83732514237585 110.20951775601598 L 346 106 L 335.83732514237585 101.79048224398402"/></g><g transform="translate(-46,-30) scale(1,1)"><path fill="none" stroke="#000000" d="M 335.83732514237585 110.20951775601598 L 346 106 L 335.83732514237585 101.79048224398402 L 335.83732514237585 110.20951775601598" stroke-miterlimit="10"/></g><g transform="translate(-46,-30) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="171.963134765625" y="102.5">1 : GET /api/user</text></g></g><g transform="translate(-46,-30) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="149.202880859375" y="122.5">{Authorization="tokenId"}</text></g></g><g transform="translate(-46,-30) scale(1,1)"><rect fill="#ffffff" stroke="none" x="346" y="106" width="13" height="430"/></g><g transform="translate(-46,-30) scale(1,1)"><path fill="none" stroke="#000000" d="M 346 106 L 359 106 L 359 536 L 346 536 L 346 106 Z Z" stroke-miterlimit="10"/></g><g transform="translate(-46,-30) scale(1,1)"><path fill="none" stroke="#000000" d="M 359 127 L 669 127" stroke-miterlimit="10"/></g><g transform="translate(-46,-30) scale(1,1)"><path fill="#000000" stroke="none" d="M 658.8373251423759 131.209517756016 L 669 127 L 658.8373251423758 122.79048224398402"/></g><g transform="translate(-46,-30) scale(1,1)"><path fill="none" stroke="#000000" d="M 658.8373251423759 131.209517756016 L 669 127 L 658.8373251423758 122.79048224398402 L 658.8373251423759 131.209517756016" stroke-miterlimit="10"/></g><g transform="translate(-46,-30) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="367.5" y="122.5">2 : doFilterInternal(request,response, filterChain)</text></g></g><g transform="translate(-46,-30) scale(1,1)"><rect fill="#ffffff" stroke="none" x="669" y="127" width="13" height="313"/></g><g transform="translate(-46,-30) scale(1,1)"><path fill="none" stroke="#000000" d="M 669 127 L 682 127 L 682 440 L 669 440 L 669 127 Z Z" stroke-miterlimit="10"/></g><g transform="translate(-46,-30) scale(1,1)"><path fill="none" stroke="#000000" d="M 682 136 L 712 136 L 712 156 L 689 156" stroke-miterlimit="10"/></g><g transform="translate(-46,-30) scale(1,1)"><path fill="#000000" stroke="none" d="M 699.1626748576241 151.790482243984 L 689 156 L 699.1626748576241 160.209517756016"/></g><g transform="translate(-46,-30) scale(1,1)"><path fill="none" stroke="#000000" d="M 699.1626748576241 151.790482243984 L 689 156 L 699.1626748576241 160.209517756016 L 699.1626748576241 151.790482243984" stroke-miterlimit="10"/></g><g transform="translate(-46,-30) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="718.5" y="148.5">3 : getHeader(Autorization)</text></g></g><g transform="translate(-46,-30) scale(1,1)"><rect fill="#ffffff" stroke="none" x="676" y="156" width="13" height="28"/></g><g transform="translate(-46,-30) scale(1,1)"><path fill="none" stroke="#000000" d="M 676 156 L 689 156 L 689 184 L 676 184 L 676 156 Z Z" stroke-miterlimit="10"/></g><g transform="translate(-46,-30) scale(1,1)"><path fill="none" stroke="#000000" d="M 682 192 L 944 192" stroke-miterlimit="10"/></g><g transform="translate(-46,-30) scale(1,1)"><path fill="#000000" stroke="none" d="M 933.8373251423759 196.209517756016 L 944 192 L 933.8373251423758 187.790482243984"/></g><g transform="translate(-46,-30) scale(1,1)"><path fill="none" stroke="#000000" d="M 933.8373251423759 196.209517756016 L 944 192 L 933.8373251423758 187.790482243984 L 933.8373251423759 196.209517756016" stroke-miterlimit="10"/></g><g transform="translate(-46,-30) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="737.5" y="187.5">4 : validateToken(tokenId)</text></g></g><g transform="translate(-46,-30) scale(1,1)"><rect fill="#ffffff" stroke="none" x="944" y="192" width="13" height="107"/></g><g transform="translate(-46,-30) scale(1,1)"><path fill="none" stroke="#000000" d="M 944 192 L 957 192 L 957 299 L 944 299 L 944 192 Z Z" stroke-miterlimit="10"/></g><g transform="translate(-46,-30) scale(1,1)"><path fill="none" stroke="#000000" d="M 957 200 L 1173 200" stroke-miterlimit="10"/></g><g transform="translate(-46,-30) scale(1,1)"><path fill="#000000" stroke="none" d="M 1162.837325142376 204.209517756016 L 1173 200 L 1162.837325142376 195.790482243984"/></g><g transform="translate(-46,-30) scale(1,1)"><path fill="none" stroke="#000000" d="M 1162.837325142376 204.209517756016 L 1173 200 L 1162.837325142376 195.790482243984 L 1162.837325142376 204.209517756016" stroke-miterlimit="10"/></g><g transform="translate(-46,-30) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="985.5" y="196.5">5 : getPublicKeyById(keyId)</text></g></g><g transform="translate(-46,-30) scale(1,1)"><rect fill="#ffffff" stroke="none" x="1173" y="200" width="13" height="48"/></g><g transform="translate(-46,-30) scale(1,1)"><path fill="none" stroke="#000000" d="M 1173 200 L 1186 200 L 1186 248 L 1173 248 L 1173 200 Z Z" stroke-miterlimit="10"/></g><g transform="translate(-46,-30) scale(1,1)"><path fill="none" stroke="#000000" d="M 1173 224 L 957 224" stroke-miterlimit="10" stroke-dasharray="3"/></g><g transform="translate(-46,-30) scale(1,1)"><path fill="none" stroke="#000000" d="M 967.1626748576241 219.790482243984 L 957 224 L 967.1626748576241 228.209517756016" stroke-miterlimit="10"/></g><g transform="translate(-46,-30) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="1012.5" y="240.5">6 : RSAPublicKey</text></g></g><g transform="translate(-46,-30) scale(1,1)"><path fill="none" stroke="#000000" d="M 957 248 L 987 248 L 987 268 L 964 268" stroke-miterlimit="10"/></g><g transform="translate(-46,-30) scale(1,1)"><path fill="#000000" stroke="none" d="M 974.1626748576241 263.790482243984 L 964 268 L 974.1626748576241 272.209517756016"/></g><g transform="translate(-46,-30) scale(1,1)"><path fill="none" stroke="#000000" d="M 974.1626748576241 263.790482243984 L 964 268 L 974.1626748576241 272.209517756016 L 974.1626748576241 263.790482243984" stroke-miterlimit="10"/></g><g transform="translate(-46,-30) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="990.5" y="268.5">7 : decode(jwt)</text></g></g><g transform="translate(-46,-30) scale(1,1)"><rect fill="#ffffff" stroke="none" x="951" y="268" width="13" height="28"/></g><g transform="translate(-46,-30) scale(1,1)"><path fill="none" stroke="#000000" d="M 951 268 L 964 268 L 964 296 L 951 296 L 951 268 Z Z" stroke-miterlimit="10"/></g><g transform="translate(-46,-30) scale(1,1)"><path fill="none" stroke="#000000" d="M 951 280 L 682 280" stroke-miterlimit="10" stroke-dasharray="3"/></g><g transform="translate(-46,-30) scale(1,1)"><path fill="none" stroke="#000000" d="M 692.1626748576241 275.790482243984 L 682 280 L 692.1626748576241 284.209517756016" stroke-miterlimit="10"/></g><g transform="translate(-46,-30) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="793.344970703125" y="275.5">8 : user</text></g></g><g transform="translate(-46,-30) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="714.5" y="299.5">{type="dto
", model="CognitoUser"}</text></g></g><g transform="translate(-46,-30) scale(1,1)"><path fill="none" stroke="#000000" d="M 682 312 L 712 312 L 712 332 L 689 332" stroke-miterlimit="10"/></g><g transform="translate(-46,-30) scale(1,1)"><path fill="#000000" stroke="none" d="M 699.1626748576241 327.790482243984 L 689 332 L 699.1626748576241 336.209517756016"/></g><g transform="translate(-46,-30) scale(1,1)"><path fill="none" stroke="#000000" d="M 699.1626748576241 327.790482243984 L 689 332 L 699.1626748576241 336.209517756016 L 699.1626748576241 327.790482243984" stroke-miterlimit="10"/></g><g transform="translate(-46,-30) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="724.986328125" y="332.5">9 : setAuthentication(user)</text></g></g><g transform="translate(-46,-30) scale(1,1)"><rect fill="#ffffff" stroke="none" x="676" y="332" width="13" height="28"/></g><g transform="translate(-46,-30) scale(1,1)"><path fill="none" stroke="#000000" d="M 676 332 L 689 332 L 689 360 L 676 360 L 676 332 Z Z" stroke-miterlimit="10"/></g><g transform="translate(-46,-30) scale(1,1)"><path fill="none" stroke="#000000" d="M 682 368 L 712 368 L 712 388 L 689 388" stroke-miterlimit="10"/></g><g transform="translate(-46,-30) scale(1,1)"><path fill="#000000" stroke="none" d="M 699.1626748576241 383.790482243984 L 689 388 L 699.1626748576241 392.209517756016"/></g><g transform="translate(-46,-30) scale(1,1)"><path fill="none" stroke="#000000" d="M 699.1626748576241 383.790482243984 L 689 388 L 699.1626748576241 392.209517756016 L 699.1626748576241 383.790482243984" stroke-miterlimit="10"/></g><g transform="translate(-46,-30) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="719.5" y="388.5">10 : request.setAttribute(user)</text></g></g><g transform="translate(-46,-30) scale(1,1)"><rect fill="#ffffff" stroke="none" x="676" y="388" width="13" height="28"/></g><g transform="translate(-46,-30) scale(1,1)"><path fill="none" stroke="#000000" d="M 676 388 L 689 388 L 689 416 L 676 416 L 676 388 Z Z" stroke-miterlimit="10"/></g><g transform="translate(-46,-30) scale(1,1)"><path fill="none" stroke="#000000" d="M 676 408 L 359 408" stroke-miterlimit="10" stroke-dasharray="3"/></g><g transform="translate(-46,-30) scale(1,1)"><path fill="none" stroke="#000000" d="M 369.16267485762415 403.790482243984 L 359 408 L 369.16267485762415 412.209517756016" stroke-miterlimit="10"/></g><g transform="translate(-46,-30) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="448.5" y="424.5">11 : Authorized request</text></g></g><g transform="translate(-46,-30) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="490.5" y="403.5">«signal»</text></g></g><g transform="translate(-46,-30) scale(1,1)"><path fill="none" stroke="#000000" d="M 359 448 L 389 448 L 389 468 L 366 468" stroke-miterlimit="10"/></g><g transform="translate(-46,-30) scale(1,1)"><path fill="#000000" stroke="none" d="M 376.16267485762415 463.790482243984 L 366 468 L 376.16267485762415 472.209517756016"/></g><g transform="translate(-46,-30) scale(1,1)"><path fill="none" stroke="#000000" d="M 376.16267485762415 463.790482243984 L 366 468 L 376.16267485762415 472.209517756016 L 376.16267485762415 463.790482243984" stroke-miterlimit="10"/></g><g transform="translate(-46,-30) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="390.5" y="468.5">12 : request.getAttribute("user")</text></g></g><g transform="translate(-46,-30) scale(1,1)"><rect fill="#ffffff" stroke="none" x="353" y="468" width="13" height="28"/></g><g transform="translate(-46,-30) scale(1,1)"><path fill="none" stroke="#000000" d="M 353 468 L 366 468 L 366 496 L 353 496 L 353 468 Z Z" stroke-miterlimit="10"/></g><g transform="translate(-46,-30) scale(1,1)"><path fill="none" stroke="#000000" d="M 346 504 L 96 504" stroke-miterlimit="10" stroke-dasharray="3"/></g><g transform="translate(-46,-30) scale(1,1)"><path fill="none" stroke="#000000" d="M 106.16267485762415 499.790482243984 L 96 504 L 106.16267485762415 508.209517756016" stroke-miterlimit="10"/></g><g transform="translate(-46,-30) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="179.5" y="500.5">13 : response</text></g></g><g transform="translate(-46,-30) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="127.5" y="524.5">{type="dto", model="CognitoUser"}</text></g></g></g></svg>